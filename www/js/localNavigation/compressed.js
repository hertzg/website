!function(){function o(o){var e=document.createElement("a");return e.href=o,console.log("AbsoluteBase",o,e.href),e.href}function e(o,e,n,t){function a(){unloadProgress.hide();var o=document.body,e=Array.prototype.slice.call(o.childNodes);e.forEach(function(e){e.classList.contains("localNavigation-leave")||o.removeChild(e)});var n=document.head,e=Array.prototype.slice.call(n.childNodes);e.forEach(function(o){var e=o.tagName;"TITLE"!==e&&"META"!==e&&("LINK"!==e||"icon"!==o.rel&&!o.classList.contains("localNavigation-leave"))&&n.removeChild(o)})}return console.log("LoadPage",e),n(o,t,function(o){a(),console.log(e+" failed to load."),t(o)},a)}function n(o,e,n){console.log("LoadScript",o);var t=document.createElement("script");return t.src=o,t.onload=e,t.onerror=n,document.body.appendChild(t),{abort:function(){t.onload=t.onerror=null}}}!function(t,a,l){function r(o,l){function r(o){t=o,s=null,void 0!==l&&l(),""!==h&&(removeEventListener("popstate",c),location.hash=h,addEventListener("popstate",c)),i()}console.log("loadHref",o);
var d=o.href,h=o.hash;null!==s&&s.abort();var f=u[d];s=void 0===f?n(t+d+"load.js?"+a[d],function(){void 0===u[d]?location=t+d+h:s=e(t,d,u[d],r)},function(){location=t+d+h}):e(t,d,f,r)}function c(e){console.log("popstate",e.state);var n=e.state;null===n&&(n=h),d=o(n.base),r(n)}function i(){var e=document.querySelectorAll(".localNavigation-link");Array.prototype.forEach.call(e,function(e){var n=e.href,a=n.substr(d.length),c=a.match(/(?:#.*)?$/)[0];""!==c&&(a=a.substr(0,a.length-c.length));var i={base:t,href:a,hash:c};e.addEventListener("click",function(e){e.preventDefault(),l.show(),r(i,function(){console.log("history.pushState",i),history.pushState(i,document.title,n),d=o(t)})})})}var s=null,u=Object.create(null),d=o(t),h={base:t,href:location.href.substr(d.length).replace(/#.*?$/,""),hash:location.hash};addEventListener("popstate",c),i(),window.localNavigation={registerPage:function(o,e){u[o]=e}}}(base,loaderRevisions,unloadProgress)}();
!function(){function o(o,n,t){function e(){unloadProgress.hide();var o=document.body,n=Array.prototype.slice.call(o.childNodes);n.forEach(function(n){n.classList.contains("localNavigation-leave")||o.removeChild(n)});var t=document.head,n=Array.prototype.slice.call(t.childNodes);n.forEach(function(o){var n=o.tagName;"TITLE"!==n&&"META"!==n&&("LINK"!==n||"icon"!==o.rel&&!o.classList.contains("localNavigation-leave"))&&t.removeChild(o)})}return console.log("LoadPage",o),n(t,function(){e(),console.log(o+" failed to load."),t()},e)}function n(o,n,t){console.log("LoadScript",o);var e=document.createElement("script");return e.src=o,e.onload=n,e.onerror=t,document.body.appendChild(e),{abort:function(){e.onload=null}}}!function(t,e){function a(t,e){console.log("loadHref",t);var a=t.href,i=t.hash;null!==l&&l.abort();var s=c[a];l=void 0===s?n(r+a+"load.js",function(){void 0===c[a]?location=r+a+i:l=o(a,c[a],function(){l=null,e()})},function(){location=r+a+i}):o(a,s,function(){l=null,e()})}var l=null,c=Object.create(null),r=function(){
var o=document.createElement("a");return o.href=t,o.href}(),i={href:location.href.substr(r.length).replace(/#.*?$/,""),hash:location.hash},s=document.querySelectorAll(".localNavigation-link");Array.prototype.forEach.call(s,function(o){var n=o.href,t=n.substr(r.length),l=t.match(/(?:#.*)?$/)[0];""!==l&&(t=t.substr(0,t.length-l.length));var c={href:t,hash:l};o.addEventListener("click",function(o){o.preventDefault(),e.show(),a(c,function(){console.log("history.pushState",c),history.pushState(c,document.title,n)})})}),addEventListener("popstate",function(o){console.log("popstate",o.state);var n=o.state;null===n&&(n=i),a(n)}),window.localNavigation={registerPage:function(o,n){c[o]=n}}}(base,unloadProgress)}();
!function(){function e(e){function t(e,t){var n=document.createElement("img");n.alt=t,n.src=o+"images/"+e+".svg";var a=n.style;return a.display="inline-block",a.verticalAlign="top",a.position="absolute",a.top="-1px",a.right=a.left="0",a.margin="auto",a.width="9px",a.height=a.lineHeight="11px",a.backgroundRepeat="no-repeat",a.color="#444",a.textAlign="center",a.fontSize="11px",n}function n(){var e=Math.round(5*c.level)/5;r.style.width=100*e+"%";var t=e>.2?"#ccc":"#ee2020";l.style.borderColor=t,i.style.background=t,r.style.background=t}function a(){var e=c.charging?"inline-block":"none";p.style.display=e}var o=function(){var t=document.createElement("a");return t.href=e,t.href}(),r=document.createElement("div");!function(e){e.display="inline-block",e.verticalAlign="top",e.height="100%",e.backgroundColor="#ccc"}(r.style);var i=document.createElement("div");!function(e){e.position="absolute",e.top=e.bottom=e.left="0",e.height="30%",e.margin="auto",e.background="#ccc",e.width="2px"}(i.style);var l=document.createElement("div");
l.appendChild(r),function(e){e.textAlign="right",e.position="absolute",e.top=e.right=e.bottom="3px",e.lineHeight="7px",e.left="2px",e.border="1px solid #ccc",e.padding="1px",e.borderRadius="1px"}(l.style);var d=document.getElementById("batteryWrapper");d.appendChild(i),d.appendChild(l);var c=navigator.battery;if(c){c.addEventListener("chargingchange",a),c.addEventListener("levelchange",n);var p=t("charging","âš¡");l.appendChild(p),a(),n()}else l.appendChild(t("question","?"));return{reload:function(e){e.appendChild(d)}}}function t(e,t){function n(e){return document.createTextNode(e)}function a(e){var t=String(e);return 10>e&&(t="0"+t),t}function o(){var e=Date.now();d(function(){var n=new Date(Date.now()-r),i=a(n.getUTCHours());i!==c.nodeValue&&(c.nodeValue=i);var l=a(n.getUTCMinutes());p.nodeValue!==l&&(p.nodeValue=l);var d=a(n.getUTCSeconds());u.nodeValue!==d&&(u.nodeValue=d),m.forEach(function(e){e(n,n.getTime()-60*t*1e3)}),setTimeout(o,Math.max(0,e+1e3-Date.now()))})}var r;if(window.localStorage){var i=parseInt(localStorage.lastRemoteTime,10);
if(i>=e)r=parseInt(localStorage.lastLocalTime,10)-i;else{var l=Date.now();r=l-e,localStorage.lastLocalTime=l,localStorage.lastRemoteTime=e}}else r=Date.now()-e;var d=window.requestAnimationFrame;d||(d=window.mozRequestAnimationFrame),d||(d=function(e){setTimeout(e,0)});var c=n(""),p=n(""),u=n(""),g=document.getElementById("dynamicClockWrapper");g.appendChild(c),g.appendChild(n(":")),g.appendChild(p),g.appendChild(n(":")),g.appendChild(u);var s=document.getElementById("staticClockWrapper");s.parentNode.removeChild(s),o();var m=[];return{onUpdate:function(e){m.push(e)},reload:function(e){e.appendChild(g)}}}!function(n,a,o){var r=window.batteryAndClock;if(r)return console.log("batteryAndClock already loaded reloading"),void r.reload();var i=e(n),l=t(a,o);window.batteryAndClock={onClockUpdate:l.onUpdate,reload:function(){console.log("batteryAndClock.reload");var e=document.querySelector(".page-clockWrapper");i.reload(e),l.reload(e)}}}(base,time,timezone)}();
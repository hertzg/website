!function(){var e=!1,t=navigator.geolocation,a=document.getElementById("geolocationLink");a.addEventListener("click",function(a){function n(){t.clearWatch(D),removeEventListener("keydown",l),y.removeChild(g),e=!1}function d(){var e=document.createElement("div");return e.className="hr",e}function c(e,t){var a=document.createElement("div");a.className="icon "+t;var n=document.createElement("div");n.className="image_link-icon",n.appendChild(a);var d=document.createElement("div");d.className="image_link-title",d.appendChild(document.createTextNode(e));var c=document.createElement("div");c.className="image_link-content",c.appendChild(d);var l=document.createElement("a");return l.className="clickable link image_link",l.appendChild(n),l.appendChild(c),{element:l,titleElement:d}}function l(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||27==e.keyCode&&(e.preventDefault(),n())}if(a.preventDefault(),!e){e=!0;var i=document.createTextNode("0"),o=document.createElement("div");o.className="confirmDialog-aligner";var r=document.createTextNode(""),m=document.createTextNode(""),u=document.createTextNode(""),p=document.createElement("div");p.appendChild(document.createTextNode("Latitude: ")),p.appendChild(r),p.appendChild(document.createElement("br")),p.appendChild(document.createTextNode("Longitude: ")),p.appendChild(m),p.appendChild(document.createElement("br")),p.appendChild(document.createTextNode("Altitude: ")),p.appendChild(u);var v=document.createElement("div");v.className="page-text",v.appendChild(document.createTextNode("Accuiring location... ")),v.appendChild(i),v.appendChild(document.createTextNode("%"));var s=c("Use the location","yes");s.titleElement.classList.add("disabled");var h=c("Cancel","no");h.element.addEventListener("click",function(e){e.preventDefault(),n()});var C=document.createElement("div");C.className="twoColumns-column1",C.appendChild(s.element);var f=document.createElement("div");f.className="twoColumns-column2",f.appendChild(h.element);var E=document.createElement("div");E.className="twoColumns dynamic",E.appendChild(C),E.appendChild(f);var N=document.createElement("div");N.className="confirmDialog-frame",N.appendChild(v),N.appendChild(d()),N.appendChild(E);var g=document.createElement("div");g.className="confirmDialog",g.appendChild(o),g.appendChild(N);var y=document.body;y.appendChild(g),addEventListener("keydown",l);var k,x,L=[],T=40,b=10,D=t.watchPosition(function(e){L.push(e);var t=L.length;t>T&&(L.shift(),t--);var a=100*t/T;if(i.nodeValue=Math.floor(a),t>=b){t==b&&(v.appendChild(p),s.titleElement.classList.remove("disabled"),s.element.addEventListener("click",function(e){function t(e,t){var a="input[name="+e+"]";document.querySelector(a).value=t}e.preventDefault(),n(),t("latitude",k),t("longitude",x),t("altitude",altitude)}));var d=0,c=9;L.forEach(function(e){var t=e.coords;d+=t.accuracy,c+=t.altitudeAccuracy}),k=0,x=0,altitude=0,L.forEach(function(e){var t,a=e.coords;t=a.accuracy/d,k+=a.latitude*t,x+=a.longitude*t,t=a.altitudeAccuracy/c,altitude+=a.altitude*t}),r.nodeValue=k,m.nodeValue=x,u.nodeValue=altitude}},function(){},{enableHighAccuracy:!0})}})}();
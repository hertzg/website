!function(){function e(e,t){return e.toPrecision(t).replace(/\.?0+$/,"")}var t=!1,a=navigator.geolocation,n=document.getElementById("geolocationLink");n.addEventListener("click",function(n){function d(){a.clearWatch(A),removeEventListener("keydown",i),x.removeChild(k),t=!1}function c(){var e=document.createElement("div");return e.className="hr",e}function l(e,t){var a=document.createElement("div");a.className="icon "+t;var n=document.createElement("div");n.className="image_link-icon",n.appendChild(a);var d=document.createElement("div");d.className="image_link-title",d.appendChild(document.createTextNode(e));var c=document.createElement("div");c.className="image_link-content",c.appendChild(d);var l=document.createElement("a");return l.className="clickable link image_link",l.appendChild(n),l.appendChild(c),{element:l,titleElement:d}}function i(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||27==e.keyCode&&(e.preventDefault(),d())}if(n.preventDefault(),!t){t=!0;var o=document.createTextNode("0"),r=document.createElement("div");r.className="confirmDialog-aligner";var m=document.createTextNode(""),u=document.createTextNode(""),p=document.createTextNode(""),v=document.createElement("div");v.appendChild(document.createTextNode("Latitude: ")),v.appendChild(m),v.appendChild(document.createElement("br")),v.appendChild(document.createTextNode("Longitude: ")),v.appendChild(u),v.appendChild(document.createElement("br")),v.appendChild(document.createTextNode("Altitude: ")),v.appendChild(p);var s=document.createTextNode("Accuiring location... "),h=document.createElement("div");h.className="page-text",h.appendChild(s),h.appendChild(o),h.appendChild(document.createTextNode("%"));var C=l("Use the location","yes");C.titleElement.classList.add("disabled");var f=l("Cancel","no");f.element.addEventListener("click",function(e){e.preventDefault(),d()});var E=document.createElement("div");E.className="twoColumns-column1",E.appendChild(C.element);var N=document.createElement("div");N.className="twoColumns-column2",N.appendChild(f.element);var g=document.createElement("div");g.className="twoColumns dynamic",g.appendChild(E),g.appendChild(N);var y=document.createElement("div");y.className="confirmDialog-frame",y.appendChild(h),y.appendChild(c()),y.appendChild(g);var k=document.createElement("div");k.className="confirmDialog",k.appendChild(r),k.appendChild(y);var x=document.body;x.appendChild(k),addEventListener("keydown",i);var L,T,b=[],D=40,w=10,A=a.watchPosition(function(t){b.push(t);var a=b.length;a>D&&(b.shift(),a--);var n=100*a/D;if(o.nodeValue=Math.floor(n),!(w>a)){a==w&&(h.appendChild(v),C.titleElement.classList.remove("disabled"),C.element.addEventListener("click",function(t){function a(e,t){var a="input[name="+e+"]";document.querySelector(a).value=t}t.preventDefault(),d(),a("latitude",e(L,9)),a("longitude",e(T,9)),a("altitude",e(altitude,3))}));var c=0,l=9;b.forEach(function(e){var t=e.coords;c+=t.accuracy,l+=t.altitudeAccuracy}),L=0,T=0,altitude=0,b.forEach(function(e){var t,a=e.coords;t=a.accuracy/c,L+=a.latitude*t,T+=a.longitude*t,t=a.altitudeAccuracy/l,altitude+=a.altitude*t}),m.nodeValue=e(L,9),u.nodeValue=e(T,9),p.nodeValue=e(altitude,3)}},function(){},{enableHighAccuracy:!0})}})}();
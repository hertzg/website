!function(){var e=!1,t=navigator.geolocation,n=document.getElementById("geolocationLink");n.addEventListener("click",function(n){function a(){t.clearWatch(D),removeEventListener("keydown",l),g.removeChild(N),e=!1}function d(){var e=document.createElement("div");return e.className="hr",e}function c(e,t){var n=document.createElement("div");n.className="icon "+t;var a=document.createElement("div");a.className="image_link-icon",a.appendChild(n);var d=document.createElement("div");d.className="image_link-title",d.appendChild(document.createTextNode(e));var c=document.createElement("div");c.className="image_link-content",c.appendChild(d);var l=document.createElement("a");return l.className="clickable link image_link",l.appendChild(a),l.appendChild(c),{element:l,titleElement:d}}function l(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||27==e.keyCode&&(e.preventDefault(),a())}if(n.preventDefault(),!e){e=!0;var i=document.createTextNode("0"),o=document.createElement("div");o.className="confirmDialog-aligner";var r=document.createTextNode(""),m=document.createTextNode(""),u=document.createElement("div");u.appendChild(document.createTextNode("Latitude: ")),u.appendChild(r),u.appendChild(document.createElement("br")),u.appendChild(document.createTextNode("Longitude: ")),u.appendChild(m);var p=document.createElement("div");p.className="page-text",p.appendChild(document.createTextNode("Accuiring location... ")),p.appendChild(i),p.appendChild(document.createTextNode("%"));var v=c("Use the location","yes");v.titleElement.classList.add("disabled");var s=c("Cancel","no");s.element.addEventListener("click",function(e){e.preventDefault(),a()});var h=document.createElement("div");h.className="twoColumns-column1",h.appendChild(v.element);var C=document.createElement("div");C.className="twoColumns-column2",C.appendChild(s.element);var f=document.createElement("div");f.className="twoColumns dynamic",f.appendChild(h),f.appendChild(C);var E=document.createElement("div");E.className="confirmDialog-frame",E.appendChild(p),E.appendChild(d()),E.appendChild(f);var N=document.createElement("div");N.className="confirmDialog",N.appendChild(o),N.appendChild(E);var g=document.body;g.appendChild(N),addEventListener("keydown",l);var y,k,L=[],x=20,T=5,D=t.watchPosition(function(e){L.push(e);var t=L.length;t>x&&(L.shift(),t--);var n=100*t/x;if(i.nodeValue=Math.floor(n),t>=T){t==T&&(p.appendChild(u),v.titleElement.classList.remove("disabled"),v.element.addEventListener("click",function(e){function t(e,t){var n="input[name="+e+"]";document.querySelector(n).value=t}e.preventDefault(),a(),t("longitude",k),t("latitude",y)}));var d=0;L.forEach(function(e){d+=e.coords.accuracy}),y=0,k=0,L.forEach(function(e){var t=e.coords,n=t.accuracy/d;y+=t.latitude*n,k+=t.longitude*n}),r.nodeValue=y,m.nodeValue=k}},function(){},{enableHighAccuracy:!0})}})}();
!function(){function e(){var e,t,n;return navigator.requestWakeLock?(e=function(){n=navigator.requestWakeLock("screen")},t=function(){n.unlock()}):e=t=function(){},{lock:e,unlock:t}}!function(){function t(e,t){var n=e.toFixed(t);return n.replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"")}var n=e(),a=!1,d=navigator.geolocation,c=document.getElementById("geolocationLink");c.addEventListener("click",function(e){function c(){d.clearWatch(K),removeEventListener("keydown",o),L.removeChild(x),a=!1,n.unlock()}function l(){var e=document.createElement("div");return e.className="hr",e}function i(e,t){var n=document.createElement("div");n.className="icon "+t;var a=document.createElement("div");a.className="image_link-icon",a.appendChild(n);var d=document.createElement("div");d.className="image_link-title",d.appendChild(document.createTextNode(e));var c=document.createElement("div");c.className="image_link-content",c.appendChild(d);var l=document.createElement("a");return l.className="clickable link image_link",l.appendChild(a),l.appendChild(c),{element:l,titleElement:d}}function o(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||27==e.keyCode&&(e.preventDefault(),c())}if(e.preventDefault(),n.lock(),!a){a=!0;var r=document.createTextNode("0"),u=document.createElement("div");u.className="confirmDialog-aligner";var m=document.createTextNode(""),p=document.createTextNode(""),v=document.createTextNode(""),s=document.createElement("div");s.appendChild(document.createTextNode("Latitude: ")),s.appendChild(m),s.appendChild(document.createElement("br")),s.appendChild(document.createTextNode("Longitude: ")),s.appendChild(p),s.appendChild(document.createElement("br")),s.appendChild(document.createTextNode("Altitude: ")),s.appendChild(v);var h=document.createTextNode("Accuiring location... "),f=document.createElement("div");f.className="page-text",f.appendChild(h),f.appendChild(r),f.appendChild(document.createTextNode("%"));var C=i("Use the location","yes");C.titleElement.classList.add("disabled");var E=i("Cancel","no");E.element.addEventListener("click",function(e){e.preventDefault(),c()});var N=document.createElement("div");N.className="twoColumns-column1",N.appendChild(C.element);var k=document.createElement("div");k.className="twoColumns-column2",k.appendChild(E.element);var g=document.createElement("div");g.className="twoColumns dynamic",g.appendChild(N),g.appendChild(k);var y=document.createElement("div");y.className="confirmDialog-frame",y.appendChild(f),y.appendChild(l()),y.appendChild(g);var x=document.createElement("div");x.className="confirmDialog",x.appendChild(u),x.appendChild(y);var L=document.body;L.appendChild(x),addEventListener("keydown",o);var T,b,D=[],w=40,A=10,K=d.watchPosition(function(e){D.push(e);var n=D.length;n>w&&(D.shift(),n--);var a=100*n/w;if(r.nodeValue=Math.floor(a),!(A>n)){n==A&&(f.appendChild(s),C.titleElement.classList.remove("disabled"),C.element.addEventListener("click",function(e){function n(e,t){var n="input[name="+e+"]";document.querySelector(n).value=t}e.preventDefault(),c(),n("latitude",t(T,9)),n("longitude",t(b,9)),n("altitude",t(altitude,3))}));var d=0,l=9;D.forEach(function(e){var t=e.coords;d+=t.accuracy,l+=t.altitudeAccuracy}),T=0,b=0,altitude=0,D.forEach(function(e){var t,n=e.coords;t=n.accuracy/d,T+=n.latitude*t,b+=n.longitude*t,t=n.altitudeAccuracy/l,altitude+=n.altitude*t}),m.nodeValue=t(T,9),p.nodeValue=t(b,9),v.nodeValue=t(altitude,3)}},function(){},{enableHighAccuracy:!0})}})}()}();
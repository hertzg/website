!function(){var e=!1,n=navigator.geolocation,t=document.getElementById("geolocationLink");t.addEventListener("click",function(t){function a(){null!==b&&(n.clearWatch(b),b=null)}function d(){a(),removeEventListener("keydown",i),y.removeChild(g),e=!1}function c(){var e=document.createElement("div");return e.className="hr",e}function l(e,n){var t=document.createElement("div");t.className="icon "+n;var a=document.createElement("div");a.className="image_link-icon",a.appendChild(t);var d=document.createElement("div");d.className="image_link-title",d.appendChild(document.createTextNode(e));var c=document.createElement("div");c.className="image_link-content",c.appendChild(d);var l=document.createElement("a");return l.className="clickable link image_link",l.appendChild(a),l.appendChild(c),{element:l,titleElement:d}}function i(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||27==e.keyCode&&(e.preventDefault(),d())}if(t.preventDefault(),!e){e=!0;var o=document.createTextNode("0"),r=document.createElement("div");r.className="confirmDialog-aligner";var m=document.createTextNode(""),u=document.createTextNode(""),p=document.createElement("div");p.appendChild(document.createTextNode("Latitude: ")),p.appendChild(m),p.appendChild(document.createElement("br")),p.appendChild(document.createTextNode("Longitude: ")),p.appendChild(u);var v=document.createElement("div");v.className="page-text",v.appendChild(document.createTextNode("Accuiring location... ")),v.appendChild(o),v.appendChild(document.createTextNode("%"));var s=l("Use the location","yes");s.titleElement.classList.add("disabled");var h=l("Cancel","no");h.element.addEventListener("click",function(e){e.preventDefault(),d()});var C=document.createElement("div");C.className="twoColumns-column1",C.appendChild(s.element);var f=document.createElement("div");f.className="twoColumns-column2",f.appendChild(h.element);var E=document.createElement("div");E.className="twoColumns dynamic",E.appendChild(C),E.appendChild(f);var N=document.createElement("div");N.className="confirmDialog-frame",N.appendChild(v),N.appendChild(c()),N.appendChild(E);var g=document.createElement("div");g.className="confirmDialog",g.appendChild(r),g.appendChild(N);var y=document.body;y.appendChild(g),addEventListener("keydown",i);var k,L,x=[],T=20,D=5,b=n.watchPosition(function(e){x.push(e);var n=x.length,t=100*n/T;if(o.nodeValue=Math.floor(t),n>=D){n==D&&(v.appendChild(p),s.titleElement.classList.remove("disabled"),s.element.addEventListener("click",function(e){function n(e,n){var t="input[name="+e+"]";document.querySelector(t).value=n}e.preventDefault(),d(),n("longitude",L),n("latitude",k)}));var c=0;x.forEach(function(e){c+=e.coords.accuracy}),k=0,L=0,x.forEach(function(e){var n=e.coords,t=n.accuracy/c;k+=n.latitude*t,L+=n.longitude*t}),m.nodeValue=k,u.nodeValue=L}n==T&&a()},function(){},{enableHighAccuracy:!0})}})}();
!function(){function e(){var e,t,n;return navigator.requestWakeLock?(e=function(){n=navigator.requestWakeLock("screen")},t=function(){n.unlock()}):e=t=function(){},{lock:e,unlock:t}}!function(t,n,a){function c(e,t,n){var a=d(e,t);if(null!==n){var c=e-n,o=d(Math.abs(c),t);"0"!=o&&(a+=" ("+(c>0?"+":"-")+o+")")}return a}function d(e,t){var n=e.toFixed(t);return n.replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"")}var o=e(),l=!1,i=navigator.geolocation,r=document.getElementById("geolocationLink");r.addEventListener("click",function(e){function r(){i.clearWatch(q),removeEventListener("keydown",p),w.removeChild(b),l=!1,o.unlock()}function u(){var e=document.createElement("div");return e.className="hr",e}function m(e,t){var n=document.createElement("div");n.className="icon "+t;var a=document.createElement("div");a.className="image_link-icon",a.appendChild(n);var c=document.createElement("div");c.className="image_link-content colorText",c.appendChild(document.createTextNode(e));var d=document.createElement("a");return d.className="clickable link image_link",
d.appendChild(a),d.appendChild(c),{contentElement:c,element:d}}function p(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||27==e.keyCode&&(e.preventDefault(),r())}if(e.preventDefault(),o.lock(),!l){l=!0;var v=document.createTextNode("0"),s=document.createElement("div");s.className="confirmDialog-aligner";var h=document.createTextNode(""),f=document.createTextNode(""),C=document.createTextNode(""),E=document.createElement("div");E.appendChild(document.createTextNode("Latitude: ")),E.appendChild(h),E.appendChild(document.createElement("br")),E.appendChild(document.createTextNode("Longitude: ")),E.appendChild(f),E.appendChild(document.createElement("br")),E.appendChild(document.createTextNode("Altitude: ")),E.appendChild(C);var g=document.createTextNode("Accuiring location... "),N=document.createElement("div");N.className="page-text",N.appendChild(g),N.appendChild(v),N.appendChild(document.createTextNode("%"));var k=m("Use the location","yes");k.contentElement.classList.add("grey");var y=m("Cancel","no");y.element.addEventListener("click",function(e){
e.preventDefault(),r()});var x=document.createElement("div");x.className="twoColumns-column1",x.appendChild(k.element);var L=document.createElement("div");L.className="twoColumns-column2",L.appendChild(y.element);var T=document.createElement("div");T.className="twoColumns dynamic",T.appendChild(x),T.appendChild(L);var D=document.createElement("div");D.className="confirmDialog-frame",D.appendChild(N),D.appendChild(u()),D.appendChild(T);var b=document.createElement("div");b.className="confirmDialog",b.appendChild(s),b.appendChild(D);var w=document.body;w.appendChild(b),addEventListener("keydown",p);var A=[],K=40,V=10,q=i.watchPosition(function(e){if(!(e.coords.accuracy>50)){A.push(e);var o=A.length;o>K&&(A.shift(),o--);var l=100*o/K;if(v.nodeValue=Math.floor(l),!(V>o)){o==V&&(N.appendChild(E),k.contentElement.classList.remove("grey"),k.element.addEventListener("click",function(e){function t(e,t){var n="input[name="+e+"]";document.querySelector(n).value=t}e.preventDefault(),r(),t("latitude",d(m,9)),t("longitude",d(p,9)),
t("altitude",d(s,3))}));var i=0,u=9;A.forEach(function(e){var t=e.coords;i+=t.accuracy,u+=t.altitudeAccuracy});var m=0,p=0,s=0;A.forEach(function(e){var t,n=e.coords;t=n.accuracy/i,m+=n.latitude*t,p+=n.longitude*t,t=n.altitudeAccuracy/u,s+=n.altitude*t}),h.nodeValue=c(m,9,t),f.nodeValue=c(p,9,n),C.nodeValue=c(s,3,a)}}},function(){},{enableHighAccuracy:!0})}})}(latitude,longitude,altitude)}();
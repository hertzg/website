!function(){function e(){var e,t,n;return navigator.requestWakeLock?(e=function(){n=navigator.requestWakeLock("screen")},t=function(){n.unlock()}):e=t=function(){},{lock:e,unlock:t}}!function(t,n,a){function d(e,t,n){var a=c(e,t);if(null!==n){var d=e-n,l=c(Math.abs(d),t);"0"!=l&&(a+=" ("+(d>0?"+":"-")+l+")")}return a}function c(e,t){var n=e.toFixed(t);return n.replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"")}var l=e(),i=!1,o=navigator.geolocation,r=document.getElementById("geolocationLink");r.addEventListener("click",function(e){function r(){o.clearWatch(W),removeEventListener("keydown",p),w.removeChild(D),i=!1,l.unlock()}function u(){var e=document.createElement("div");return e.className="hr",e}function m(e,t){var n=document.createElement("div");n.className="icon "+t;var a=document.createElement("div");a.className="image_link-icon",a.appendChild(n);var d=document.createElement("div");d.className="image_link-title",d.appendChild(document.createTextNode(e));var c=document.createElement("div");c.className="image_link-content",c.appendChild(d);var l=document.createElement("a");return l.className="clickable link image_link",l.appendChild(a),l.appendChild(c),{element:l,titleElement:d}}function p(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||27==e.keyCode&&(e.preventDefault(),r())}if(e.preventDefault(),l.lock(),!i){i=!0;var v=document.createTextNode("0"),s=document.createElement("div");s.className="confirmDialog-aligner";var h=document.createTextNode(""),f=document.createTextNode(""),C=document.createTextNode(""),E=document.createElement("div");E.appendChild(document.createTextNode("Latitude: ")),E.appendChild(h),E.appendChild(document.createElement("br")),E.appendChild(document.createTextNode("Longitude: ")),E.appendChild(f),E.appendChild(document.createElement("br")),E.appendChild(document.createTextNode("Altitude: ")),E.appendChild(C);var N=document.createTextNode("Accuiring location... "),g=document.createElement("div");g.className="page-text",g.appendChild(N),g.appendChild(v),g.appendChild(document.createTextNode("%"));var k=m("Use the location","yes");k.titleElement.classList.add("disabled");var y=m("Cancel","no");y.element.addEventListener("click",function(e){e.preventDefault(),r()});var x=document.createElement("div");x.className="twoColumns-column1",x.appendChild(k.element);var L=document.createElement("div");L.className="twoColumns-column2",L.appendChild(y.element);var T=document.createElement("div");T.className="twoColumns dynamic",T.appendChild(x),T.appendChild(L);var b=document.createElement("div");b.className="confirmDialog-frame",b.appendChild(g),b.appendChild(u()),b.appendChild(T);var D=document.createElement("div");D.className="confirmDialog",D.appendChild(s),D.appendChild(b);var w=document.body;w.appendChild(D),addEventListener("keydown",p);var A,K,V=[],_=40,q=10,W=o.watchPosition(function(e){V.push(e);var l=V.length;l>_&&(V.shift(),l--);var i=100*l/_;if(v.nodeValue=Math.floor(i),!(q>l)){l==q&&(g.appendChild(E),k.titleElement.classList.remove("disabled"),k.element.addEventListener("click",function(e){function t(e,t){var n="input[name="+e+"]";document.querySelector(n).value=t}e.preventDefault(),r(),t("latitude",c(A,9)),t("longitude",c(K,9)),t("altitude",c(altitude,3))}));var o=0,u=9;V.forEach(function(e){var t=e.coords;o+=t.accuracy,u+=t.altitudeAccuracy}),A=0,K=0,altitude=0,V.forEach(function(e){var t,n=e.coords;t=n.accuracy/o,A+=n.latitude*t,K+=n.longitude*t,t=n.altitudeAccuracy/u,altitude+=n.altitude*t}),h.nodeValue=d(A,9,t),f.nodeValue=d(K,9,n),C.nodeValue=d(altitude,3,a)}},function(){},{enableHighAccuracy:!0})}})}(latitude,longitude,altitude)}();